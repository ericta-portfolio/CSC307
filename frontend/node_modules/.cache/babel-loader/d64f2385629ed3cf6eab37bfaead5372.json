{"ast":null,"code":"import _classCallCheck from \"/Users/lesiqueiira/Documents/GitHub/CSC308-PolySnaps/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lesiqueiira/Documents/GitHub/CSC308-PolySnaps/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/lesiqueiira/Documents/GitHub/CSC308-PolySnaps/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/lesiqueiira/Documents/GitHub/CSC308-PolySnaps/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/lesiqueiira/Documents/GitHub/CSC308-PolySnaps/frontend/src/profile-form-FE/ImgUpload.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ProfileImg from \"./ProfileImg\";\nimport 'antd/dist/antd.css';\nimport { Avatar } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ImgUpload = /*#__PURE__*/function (_Component) {\n  _inherits(ImgUpload, _Component);\n\n  var _super = _createSuper(ImgUpload);\n\n  function ImgUpload(props) {\n    var _this;\n\n    _classCallCheck(this, ImgUpload);\n\n    _this = _super.call(this, props);\n\n    _this.handleImageChange = function (profileImage) {\n      _this.setState({\n        profileImage: profileImage\n      });\n    };\n\n    _this.state = {\n      selectedFile: null\n    };\n\n    _this.fileSelectedHandler = function (event) {\n      _this.setState({\n        selectedFile: event.target.files[0]\n      });\n\n      console.log(event.target.files[0]);\n    };\n\n    _this.fileUploadHandler = function () {\n      var data = null;\n      axios.get('http://localhost:5000/cache').then(function (res) {\n        console.log(res);\n        data = res[\"data\"];\n        console.log(data);\n        var fd = new FormData();\n        fd.append(\"image\", _this.state.selectedFile, _this.state.selectedFile.name); //needs to send an http request\n\n        axios.put(\"http://localhost:5000/upload/\" + data[\"_id\"], fd, {\n          onUploadProgress: function onUploadProgress(progressEvent) {\n            console.log(\"Upload Progress:\" + Math.round(progressEvent.loaded / progressEvent.total * 100) + \"%\");\n          }\n        }).then(function (res) {\n          console.log(res);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (e) {\n        //Not handling the error. Just logging into the console.\n        console.log(e);\n      });\n      axios.get(\"http://localhost:5000/profile/609599b17d7512731470344a\").then(function (res) {\n        console.log(res);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      profileImage: ''\n    };\n    return _this;\n  }\n\n  _createClass(ImgUpload, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ImgUpload\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            display: \"none\"\n          },\n          type: \"file\",\n          onChange: this.fileSelectedHandler,\n          ref: function ref(fileInput) {\n            return _this2.fileInput = fileInput;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: function onClick() {\n            return _this2.fileInput.click();\n          },\n          children: \"Pick File\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.fileUploadHandler,\n          children: \"Upload Your Picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            style: {\n              \"margin-top\": \"300px\"\n            },\n            size: 300,\n            icon: \"img\",\n            src: \"https://picsum.photos/200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return ImgUpload;\n}(Component);\n\nexport default ImgUpload;","map":{"version":3,"sources":["/Users/lesiqueiira/Documents/GitHub/CSC308-PolySnaps/frontend/src/profile-form-FE/ImgUpload.jsx"],"names":["React","Component","axios","ProfileImg","Avatar","ImgUpload","props","handleImageChange","profileImage","setState","state","selectedFile","fileSelectedHandler","event","target","files","console","log","fileUploadHandler","data","get","then","res","fd","FormData","append","name","put","onUploadProgress","progressEvent","Math","round","loaded","total","catch","error","e","display","fileInput","click"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ProfileImg from \"./ProfileImg\";\nimport 'antd/dist/antd.css'\nimport { Avatar } from 'antd';\n\nclass ImgUpload extends Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      profileImage: ''\n    }\n  }\n  handleImageChange = (profileImage) => {\n    this.setState({\n      profileImage\n    })\n  }\n\n  //to store the picture\n  state = { selectedFile: null };\n  // state = {imgSrc: null};\n\n  fileSelectedHandler = (event) => {\n    this.setState({ selectedFile: event.target.files[0] });\n    console.log(event.target.files[0]);\n  };\n\n  fileUploadHandler = () => {\n    var data = null;\n    axios.get('http://localhost:5000/cache')\n    .then(res => {\n      console.log(res);\n      data = res[\"data\"];\n      console.log(data);\n\n      const fd = new FormData();\n      fd.append(\"image\", this.state.selectedFile, this.state.selectedFile.name);\n      //needs to send an http request\n      axios\n        .put(\"http://localhost:5000/upload/\" + data[\"_id\"], fd, {\n          onUploadProgress: (progressEvent) => {\n            console.log(\n              \"Upload Progress:\" +\n                Math.round((progressEvent.loaded / progressEvent.total) * 100) +\n                \"%\"\n            );\n          }\n        })\n        .then((res) => {\n          console.log(res);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    })\n    .catch(function (e) {\n    //Not handling the error. Just logging into the console.\n      console.log(e);\n    });\n\n    axios\n      .get(\"http://localhost:5000/profile/609599b17d7512731470344a\")\n      .then((res) => {\n        console.log(res);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"ImgUpload\">\n        <input\n          style={{ display: \"none\" }}\n          type=\"file\"\n          onChange={this.fileSelectedHandler}\n          ref={(fileInput) => (this.fileInput = fileInput)}\n        />\n        <button onClick={() => this.fileInput.click()}>Pick File</button>\n        <button onClick={this.fileUploadHandler}>Upload Your Picture</button>\n        <div>\n        <Avatar \n        style={{ \"margin-top\": \"300px\" }}\n        size={300} icon=\"img\" src={\"https://picsum.photos/200\"}/>\n        {/* <ProfileImg img=\"https://picsum.photos/200\" /> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ImgUpload;\n"]},"metadata":{},"sourceType":"module"}